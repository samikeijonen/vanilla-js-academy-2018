<!DOCTYPE html>
<html lang="en-US">
<head>
	<title>Word Count</title>

	<meta charset="utf-8">

	<!-- Force latest available IE rendering engine and Chrome Frame (if installed) -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<!-- Mobile Screen Resizing -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="../style.css" rel="stylesheet">
</head>
<body>

	<h1>Word Count</h1>

	<textarea id="textarea"></textarea>

	<p>You've written <strong><span id="word-count">0</span> words</strong> and <strong><span id="character-count">0</span> characters</strong>.</p>

	<div id="a11y-speak" class="screen-reader-text" aria-live="polite" aria-relevant="additions text" aria-atomic="true"></div>

	<script>
		var textarea  = document.querySelector( '#textarea' );
		var wordCount = document.querySelector( '#word-count' );
		var charCount = document.querySelector( '#character-count' );
		var a11ySpeak = document.querySelector( '#a11y-speak' );

		textarea.addEventListener( 'input', function ( event ) {
			// Convert string into an array and calculate length.
			// Filter empty ones out.
			var filteredWords = textarea.value.split( ' ' ).filter( function ( word ) {
				return word !== '';
			} );

			// Calculate array (word) length.
			wordCount.textContent = filteredWords.length;

			// Calculate string length.
			charCount.textContent = textarea.value.length;

			// Add information to AT devices like screen readers.
			// Wait 2 sec before announcing.
			setTimeout( function() {
				a11ySpeak.textContent = 'You\'ve written ' + filteredWords.length + ' words and ' + textarea.value.length +  ' characters';
			}, 2000 )
		}, false );
	</script>

</body>
</html>
